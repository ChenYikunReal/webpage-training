<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title> 位图填充 </title>
  <style media="screen">
    body {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }
  </style>
</head>
<body>
  <canvas id="mc" width="450" height="330" style="border:1px solid black"></canvas>
  <script type="text/javascript">
    // 获取canvas元素对应的DOM对象
    var canvas = document.getElementById('mc');
    // 获取在canvas上绘图的CanvasRenderingContext2D对象
    var ctx = canvas.getContext('2d');
    ctx.save();
    ctx.translate(30, 20);
    var image = new Image();
    image.src = "rocket_flat.png";
    image.onload = function() {
      // 创建位图填充
      imgPattern = ctx.createPattern(image, "repeat");
      // 设置使用位图填充作为填充颜色
      ctx.fillStyle = imgPattern;
      // 填充一个矩形
      ctx.fillRect(0, 0, 180, 90);
      // 恢复坐标系统
      ctx.restore();
      // 平移坐标系统
      ctx.translate(300, 200)
      ctx.beginPath();
      // 添加圆弧
      ctx.arc(0, 0, 100, 0, Math.PI*2, true);
      ctx.closePath();
      ctx.lineWidth = 30;
      // 设置使用位图填充作为边框颜色
      ctx.strokeStyle = imgPattern;
      ctx.stroke();
    }
  </script>
</body>
</html>
